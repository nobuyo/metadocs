<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>DatasetQuery - Metadocs</title><link rel="icon" href="/metadocs/microscope.svg"/><meta name="next-head-count" content="4"/><link rel="preload" href="/metadocs/_next/static/css/92c60fda2058391a.css" as="style"/><link rel="stylesheet" href="/metadocs/_next/static/css/92c60fda2058391a.css" data-n-g=""/><link rel="preload" href="/metadocs/_next/static/css/7ea808ba433b908b.css" as="style"/><link rel="stylesheet" href="/metadocs/_next/static/css/7ea808ba433b908b.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/metadocs/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/metadocs/_next/static/chunks/webpack-6467596875d79b85.js" defer=""></script><script src="/metadocs/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/metadocs/_next/static/chunks/main-475c655c1cdce5cf.js" defer=""></script><script src="/metadocs/_next/static/chunks/pages/_app-6439da70be60f0de.js" defer=""></script><script src="/metadocs/_next/static/chunks/pages/docs/data-structures/%5Bslug%5D-097bfbfb96179b9f.js" defer=""></script><script src="/metadocs/_next/static/pRnXnwAPYTKYr8MunPTrs/_buildManifest.js" defer=""></script><script src="/metadocs/_next/static/pRnXnwAPYTKYr8MunPTrs/_ssgManifest.js" defer=""></script><script src="/metadocs/_next/static/pRnXnwAPYTKYr8MunPTrs/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><nav class="nav_nav__fL7mg"><a href="/metadocs"><div class="nav_title__1g_xp"><div class="logo"><img src="/metadocs/microscope.svg" width="32px" height="32px" alt="logo"/></div><div class="nav_text__I_orU">Metadocs</div></div></a></nav><div class="pageContainer"><div class="main-wrapper"><div class="page-wrapper"><div class="sidebar sidebar_sidebar__7hndR"><div class="sidebar_sidebarInner__8v9aY"><div class="categories-list"><div class="sidebar-item_category__kiYJJ"><div class="sidebar-item_categoryName__WThk4">Data Structures</div><div class="sidebar-item_pagesList__tlBgr"><a href="/metadocs/docs/data-structures/card"><div class="sidebar-item_pagesItem__YW46d">Card</div></a><a href="/metadocs/docs/data-structures/dashboard"><div class="sidebar-item_pagesItem__YW46d">Dashboard</div></a><a href="/metadocs/docs/data-structures/dashboard-card"><div class="sidebar-item_pagesItem__YW46d">DashboardCard</div></a><a href="/metadocs/docs/data-structures/dataset-query"><div class="sidebar-item_pagesItem__YW46d sidebar-item_current__NDUGQ">DatasetQuery</div></a></div></div><div class="sidebar-item_category__kiYJJ"><div class="sidebar-item_categoryName__WThk4">Parameters</div><div class="sidebar-item_pagesList__tlBgr"><a href="/metadocs/docs/parameters/index"><div class="sidebar-item_pagesItem__YW46d">About Parameters</div></a><a href="/metadocs/docs/parameters/time"><div class="sidebar-item_pagesItem__YW46d">Time</div></a><a href="/metadocs/docs/parameters/location"><div class="sidebar-item_pagesItem__YW46d">Locations</div></a></div></div><div class="sidebar-item_category__kiYJJ"><div class="sidebar-item_categoryName__WThk4">Visualizations</div><div class="sidebar-item_pagesList__tlBgr"><a href="/metadocs/docs/visualizations/index"><div class="sidebar-item_pagesItem__YW46d">About Visualizations</div></a><a href="/metadocs/docs/visualizations/area"><div class="sidebar-item_pagesItem__YW46d">Area Chart</div></a><a href="/metadocs/docs/visualizations/bar"><div class="sidebar-item_pagesItem__YW46d">Bar Chart</div></a><a href="/metadocs/docs/visualizations/combo"><div class="sidebar-item_pagesItem__YW46d">Combo Chart</div></a><a href="/metadocs/docs/visualizations/funnel"><div class="sidebar-item_pagesItem__YW46d">Funnel</div></a><a href="/metadocs/docs/visualizations/gauge"><div class="sidebar-item_pagesItem__YW46d">Gauge</div></a><a href="/metadocs/docs/visualizations/line"><div class="sidebar-item_pagesItem__YW46d">Line Chart</div></a><a href="/metadocs/docs/visualizations/map"><div class="sidebar-item_pagesItem__YW46d">Map</div></a><a href="/metadocs/docs/visualizations/object"><div class="sidebar-item_pagesItem__YW46d">Object Detail</div></a><a href="/metadocs/docs/visualizations/pie"><div class="sidebar-item_pagesItem__YW46d">Pie Chart</div></a><a href="/metadocs/docs/visualizations/pivot"><div class="sidebar-item_pagesItem__YW46d">Pivot Table</div></a><a href="/metadocs/docs/visualizations/progress"><div class="sidebar-item_pagesItem__YW46d">Progress</div></a><a href="/metadocs/docs/visualizations/row"><div class="sidebar-item_pagesItem__YW46d">Row Chart</div></a><a href="/metadocs/docs/visualizations/scalar"><div class="sidebar-item_pagesItem__YW46d">Scalar</div></a><a href="/metadocs/docs/visualizations/scatter"><div class="sidebar-item_pagesItem__YW46d">Scatter</div></a><a href="/metadocs/docs/visualizations/smart-scalar"><div class="sidebar-item_pagesItem__YW46d">Smart Scalar</div></a><a href="/metadocs/docs/visualizations/table"><div class="sidebar-item_pagesItem__YW46d">Table</div></a><a href="/metadocs/docs/visualizations/text"><div class="sidebar-item_pagesItem__YW46d">Text</div></a><a href="/metadocs/docs/visualizations/waterfall"><div class="sidebar-item_pagesItem__YW46d">Waterfall Chart</div></a></div></div></div></div></div><main class="main"><article><div class="article-container_pageContent__l59Lz"><div><h1>DatasetQuery</h1>
<p><em>This page describes <code>native</code> queries.</em></p>
<p>DatasetQuery is attribute of <a href="/metadocs/docs/data-structures/card">Card</a>, and just an object not a separate model.</p>
<h2>Attributes</h2>
<h3>NativeDatasetQuery</h3>
<p>Since we will be using native queries in most cases, this can be considered almost identical to DatasetQuery.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>'native'</td>
<td></td>
</tr>
<tr>
<td>database</td>
<td>number</td>
<td>database id</td>
</tr>
<tr>
<td>native</td>
<td><a href="#native-query">NativeQuery</a></td>
<td></td>
</tr>
</tbody>
</table>
<h3>NativeQuery</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>query</td>
<td>string</td>
<td>Query body like SQL</td>
<td>""</td>
</tr>
<tr>
<td>template-tags</td>
<td><code>{ [key: string]: TemplateTag }</code></td>
<td><a href="#template-tag">TemplateTag</a></td>
<td>{}</td>
</tr>
</tbody>
</table>
<h3>TemplateTag</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>UUID v4 format random id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Used as a key for mapping with filters on the dashboard.</td>
</tr>
<tr>
<td>display-name</td>
<td>string</td>
<td>Display name</td>
</tr>
<tr>
<td>type</td>
<td><code>text</code> | <code>date</code> | <code>number</code> | <code>dimension</code></td>
<td></td>
</tr>
<tr>
<td>dimension</td>
<td><code>['field-id', field-id]</code></td>
<td><code>field-id</code> is ID on <code>metabase_field</code> table.Required if <code>type === dimension</code>.</td>
</tr>
<tr>
<td>widget-type</td>
<td>string</td>
<td><code>category</code>, <code>date/*</code>, etc. See <a href="/metadocs/docs/parameters">Parameters</a> for types list.Required if <code>type === dimension</code>.</td>
</tr>
</tbody>
</table>
<h2>Source Code</h2>
<ul>
<li><a href="https://github.com/metabase/metabase/blob/v0.38.3/frontend/src/metabase-lib/lib/queries/NativeQuery.js">Frontend NativeQuery</a></li>
<li><a href="https://github.com/metabase/metabase/blob/v0.38.3/frontend/src/metabase-types/types/Query.js#L52">Frontend Query type definition</a></li>
<li><a href="https://github.com/metabase/metabase/blob/v0.38.3/frontend/src/metabase-types/types/Parameter.js">Frontend Parameter type definition</a></li>
</ul>
</div></div></article></main></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"pageContent":{"slug":"dataset-query","fullSlug":"","title":"DatasetQuery","position":4,"content":"\u003ch1\u003eDatasetQuery\u003c/h1\u003e\n\u003cp\u003e\u003cem\u003eThis page describes \u003ccode\u003enative\u003c/code\u003e queries.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eDatasetQuery is attribute of \u003ca href=\"/metadocs/docs/data-structures/card\"\u003eCard\u003c/a\u003e, and just an object not a separate model.\u003c/p\u003e\n\u003ch2\u003eAttributes\u003c/h2\u003e\n\u003ch3\u003eNativeDatasetQuery\u003c/h3\u003e\n\u003cp\u003eSince we will be using native queries in most cases, this can be considered almost identical to DatasetQuery.\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eName\u003c/th\u003e\n\u003cth\u003eType\u003c/th\u003e\n\u003cth\u003eDescription\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003etype\u003c/td\u003e\n\u003ctd\u003e'native'\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003edatabase\u003c/td\u003e\n\u003ctd\u003enumber\u003c/td\u003e\n\u003ctd\u003edatabase id\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003enative\u003c/td\u003e\n\u003ctd\u003e\u003ca href=\"#native-query\"\u003eNativeQuery\u003c/a\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3\u003eNativeQuery\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eName\u003c/th\u003e\n\u003cth\u003eType\u003c/th\u003e\n\u003cth\u003eDescription\u003c/th\u003e\n\u003cth\u003eDefault\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003equery\u003c/td\u003e\n\u003ctd\u003estring\u003c/td\u003e\n\u003ctd\u003eQuery body like SQL\u003c/td\u003e\n\u003ctd\u003e\"\"\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003etemplate-tags\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e{ [key: string]: TemplateTag }\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ca href=\"#template-tag\"\u003eTemplateTag\u003c/a\u003e\u003c/td\u003e\n\u003ctd\u003e{}\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3\u003eTemplateTag\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eName\u003c/th\u003e\n\u003cth\u003eType\u003c/th\u003e\n\u003cth\u003eDescription\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eid\u003c/td\u003e\n\u003ctd\u003estring\u003c/td\u003e\n\u003ctd\u003eUUID v4 format random id\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ename\u003c/td\u003e\n\u003ctd\u003estring\u003c/td\u003e\n\u003ctd\u003eUsed as a key for mapping with filters on the dashboard.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003edisplay-name\u003c/td\u003e\n\u003ctd\u003estring\u003c/td\u003e\n\u003ctd\u003eDisplay name\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003etype\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003etext\u003c/code\u003e | \u003ccode\u003edate\u003c/code\u003e | \u003ccode\u003enumber\u003c/code\u003e | \u003ccode\u003edimension\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003edimension\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e['field-id', field-id]\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003efield-id\u003c/code\u003e is ID on \u003ccode\u003emetabase_field\u003c/code\u003e table.Required if \u003ccode\u003etype === dimension\u003c/code\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ewidget-type\u003c/td\u003e\n\u003ctd\u003estring\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003ecategory\u003c/code\u003e, \u003ccode\u003edate/*\u003c/code\u003e, etc. See \u003ca href=\"/metadocs/docs/parameters\"\u003eParameters\u003c/a\u003e for types list.Required if \u003ccode\u003etype === dimension\u003c/code\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch2\u003eSource Code\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/metabase/metabase/blob/v0.38.3/frontend/src/metabase-lib/lib/queries/NativeQuery.js\"\u003eFrontend NativeQuery\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/metabase/metabase/blob/v0.38.3/frontend/src/metabase-types/types/Query.js#L52\"\u003eFrontend Query type definition\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/metabase/metabase/blob/v0.38.3/frontend/src/metabase-types/types/Parameter.js\"\u003eFrontend Parameter type definition\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n"},"allCategories":[{"label":"Data Structures","position":2,"slug":"data-structures","pages":[{"slug":"card","fullSlug":"/docs/data-structures/card","title":"Card","position":1,"content":""},{"slug":"dashboard","fullSlug":"/docs/data-structures/dashboard","title":"Dashboard","position":2,"content":""},{"slug":"dashboard-card","fullSlug":"/docs/data-structures/dashboard-card","title":"DashboardCard","position":3,"content":""},{"slug":"dataset-query","fullSlug":"/docs/data-structures/dataset-query","title":"DatasetQuery","position":4,"content":""}]},{"label":"Parameters","position":3,"slug":"parameters","pages":[{"slug":"index","fullSlug":"/docs/parameters/index","title":"About Parameters","position":1,"content":""},{"slug":"time","fullSlug":"/docs/parameters/time","title":"Time","position":2,"content":""},{"slug":"location","fullSlug":"/docs/parameters/location","title":"Locations","position":3,"content":""}]},{"label":"Visualizations","position":4,"slug":"visualizations","pages":[{"slug":"index","fullSlug":"/docs/visualizations/index","title":"About Visualizations","position":1,"content":""},{"slug":"area","fullSlug":"/docs/visualizations/area","title":"Area Chart","position":2,"content":""},{"slug":"bar","fullSlug":"/docs/visualizations/bar","title":"Bar Chart","position":3,"content":""},{"slug":"combo","fullSlug":"/docs/visualizations/combo","title":"Combo Chart","position":4,"content":""},{"slug":"funnel","fullSlug":"/docs/visualizations/funnel","title":"Funnel","position":5,"content":""},{"slug":"gauge","fullSlug":"/docs/visualizations/gauge","title":"Gauge","position":6,"content":""},{"slug":"line","fullSlug":"/docs/visualizations/line","title":"Line Chart","position":7,"content":""},{"slug":"map","fullSlug":"/docs/visualizations/map","title":"Map","position":8,"content":""},{"slug":"object","fullSlug":"/docs/visualizations/object","title":"Object Detail","position":9,"content":""},{"slug":"pie","fullSlug":"/docs/visualizations/pie","title":"Pie Chart","position":10,"content":""},{"slug":"pivot","fullSlug":"/docs/visualizations/pivot","title":"Pivot Table","position":11,"content":""},{"slug":"progress","fullSlug":"/docs/visualizations/progress","title":"Progress","position":12,"content":""},{"slug":"row","fullSlug":"/docs/visualizations/row","title":"Row Chart","position":13,"content":""},{"slug":"scalar","fullSlug":"/docs/visualizations/scalar","title":"Scalar","position":14,"content":""},{"slug":"scatter","fullSlug":"/docs/visualizations/scatter","title":"Scatter","position":15,"content":""},{"slug":"smart-scalar","fullSlug":"/docs/visualizations/smart-scalar","title":"Smart Scalar","position":16,"content":""},{"slug":"table","fullSlug":"/docs/visualizations/table","title":"Table","position":17,"content":""},{"slug":"text","fullSlug":"/docs/visualizations/text","title":"Text","position":18,"content":""},{"slug":"waterfall","fullSlug":"/docs/visualizations/waterfall","title":"Waterfall Chart","position":19,"content":""}]}],"currentSlug":"/docs/data-structures/dataset-query"},"__N_SSG":true},"page":"/docs/data-structures/[slug]","query":{"slug":"dataset-query"},"buildId":"pRnXnwAPYTKYr8MunPTrs","assetPrefix":"/metadocs","runtimeConfig":{"basePath":"/metadocs"},"isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>